@using Insite.WebFramework.Mvc.Extensions
﻿<div ng-cloak>

    <header class="row order-detail-header">
        <div class="medium-6 columns">
            <h1>@T("Saved Cart")</h1>
        </div>
        <div class="medium-3 end columns medium-text-right">
            <ul class="inline-list hide-for-print">
                <li><a href="javascript: window.print();"><i class="fa fa-print"></i> Print</a></li>
            </ul>
        </div>
    </header>

    <div>

        <div class="panel hide">
            <div class="row">
                <div class="medium-4 large-4 columns">
                    <h5>@T("Saved Cart Information")</h5>
                    <dl class="inline-data-list">
                        <dt>@T("Date")</dt>
                        <dd ng-bind="vm.cart.orderDate | date:'M/d/yyyy'"></dd>
                    </dl>
                </div>
                <div class="medium-4 large-4 columns">
                    <h5>@T("Billing Information")</h5>
                    <isc-address-display prefix="bt" address="vm.cart.billTo" show-email="true"></isc-address-display>
                </div>
                <div class="medium-4 large-4 columns">
                    <h5>@T("Shipping Information")</h5>
                    <isc-address-display prefix="st" address="vm.cart.shipTo" show-email="false"></isc-address-display>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="large-9 columns">
                <div ng-if="vm.cart.cartLines.length > 0">
                    <div class="cart-grid">
                        <morsco-cart-lines cart="vm.cart" warehouses="vm.warehouses" editable="true"
                                            include-quote-required="true"
                                            include-inventory="vm.showInventoryAvailability"
                                            inventory-check="true"
                                            is-cart-page="true"
                                            is-catalog="true"
                                            class="item-list cart-items">
                        </morsco-cart-lines>
                    </div>
                    <div ng-if="vm.cart.cartLines.length > 0" class="hide-for-small-down">
                        <isc-cart-bottom-sub-total-display cart="vm.cart" is-cart-page="true"></isc-cart-bottom-sub-total-display>
                    </div>
                </div>

                <div ng-if="vm.cart.properties['nonCatalogProductCount'] > 0">
                    <header class="row">
                        <div class="medium-5 columns">
                            <h2>@T("Items To Be Quoted")</h2>
                        </div>
                    </header>

                    <div class="cart-grid">
                        <morsco-cart-lines cart="vm.cart" editable="true"
                                           include-quote-required="true"
                                           include-inventory="vm.showInventoryAvailability"
                                           inventory-check="true"
                                           is-cart-page="true"
                                           is-catalog="false"
                                           class="item-list cart-items">
                        </morsco-cart-lines>
                    </div>

                    <div ng-if="vm.cart.properties['nonCatalogProductCount'] > 0" class="hide-for-small-down">
                        <isc-cart-bottom-sub-total-display cart="vm.cart" is-cart-page="true" is-non-catalog="true"></isc-cart-bottom-sub-total-display>
                    </div>
                </div>

            </div>

            <div ng-if="vm.cart.cartLines.length > 0" class="medium-3 columns">

                <div class="summary">
                    <header class="summary-header">
                        @T("Saved Cart Summary")
                    </header> 
                    <div class="summary-content">
                        <div class="summary-totals">
                            <div class="row collapse sub-total">
                                <div class="xsmall-6 columns sub-label">@T("Subtotal")<span>({{vm.cart.properties['totalOrderCount']}})</span></div>
                                <div class="xsmall-6 columns sub-amount" ng-bind="vm.cart.orderSubTotalDisplay"></div>
                            </div>
                        </div>

                        <div class="summary-primary-cta">
                            <button id="savedOrderDetailViewPlaceSavedOrderButton" type="button"
                                    class="button expand large"
                                    ng-if="vm.canAddToCart"
                                    ng-click="vm.placeSavedOrder('@(Url.ContentPage<Insite.Cart.Content.CartPage>())')">@T("Add All to Cart")</button>
                        </div>
                    </div>
                    <footer class="summary-footer hide-for-print">
                        <div>
                            <h6>&nbsp;</h6>
                            <p><a id="savedOrderDetailViewDeleteSavedOrderButton" type="button" href="javascript:void();" ng-click="vm.deleteSavedOrder('@(Url.ContentPage<Insite.Cart.Content.SavedOrderListPage>())')"><i class="fa fa-remove"></i> @T("Delete Saved Order")</a></p>
                        </div>
                    </footer>
                </div>

            </div>

        </div>

    </div>

    <isc-morsco-availability-popup> </isc-morsco-availability-popup>

    <script type="text/ng-template" id="/Directives/Account/AddressDisplay">
        @Html.ThemedPartial("/Views/Directives/Account/AddressDisplay.cshtml")
    </script>
    <script type="text/ng-template" id="/Directives/Cart/CartLines">
        @Html.ThemedPartial("/Views/Directives/Cart/CartLines.cshtml")
    </script>
    <script type="text/ng-template" id="/Directives/Cart/CartLineNote">
        @Html.ThemedPartial("/Views/Directives/Cart/CartLineNote.cshtml")
    </script>
    <script type="text/ng-template" id="/Directives/Cart/CartTotalDisplay">
        @Html.ThemedPartial("/Views/Directives/Cart/CartTotalDisplay.cshtml")
    </script>
</div>
